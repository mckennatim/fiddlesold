<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2015 by mckennatim (http://jsbin.com/pamecu/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head lang="en">
  <meta charset="utf-8">
  <title>Egghead Videos</title>
  <link rel="stylesheet" href="http://cdn.jsdelivr.net/foundation/5.4.7/css/foundation.css">
</head>
<body>

  <div ng-app="phoneApp">
    <div ng-controller="AppCtrl as appctrl">
        <div phone dial="appctrl.callHome(message)" remo="appctrl.remo(message)" ></div>
    </div>
  </div>

  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular.js"></script>
<script id="jsbin-javascript">
var app = angular.module("phoneApp", []);

app.controller("AppCtrl", function($scope) {
    var appctrl = this;
    appctrl.callHome = function(message) {
        alert(message);
    };
    $scope.$on('anEvent', function(event, mess){
    	console.log(mess)
    });
    appctrl.remo =function(mess){
      console.log(mess)
    }

});

app.directive("phone", function() {
    return {
        scope: {
            dial: "&",
            remo: "&"
        },
	controller: function($scope){
	    $scope.dog = function(){
	    	 console.log('uli');
	    	 $scope.$emit('anEvent', {action:'modify'});
	    	 $scope.remo({message:'modify'})
	    }
	},
       templateUrl: 'dir.html', 
       link: function(scope, element, attrs){
     		scope.cat =function(){
     			console.log('mabibi');
     			scope.remo({message:'modify'})
     		}
       }
    };
});
</script>
</body>
</html>